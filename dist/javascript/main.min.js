var Ompluscript,__extends=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};!function(a){var b;!function(a){var b;!function(a){"use strict"}(b=a.Interfaces||(a.Interfaces={}))}(b=a.Core||(a.Core={}))}(Ompluscript||(Ompluscript={})),function(a){var b;!function(a){var b;!function(a){"use strict";var b=function(){function a(a,b){this.sender=a,this.type=b}return a.prototype.getSender=function(){return this.sender},a.prototype.getType=function(){return this.type},a}();a.Event=b}(b=a.Observer||(a.Observer={}))}(b=a.Core||(a.Core={}))}(Ompluscript||(Ompluscript={})),function(a){var b;!function(a){var b;!function(a){"use strict"}(b=a.Observer||(a.Observer={}))}(b=a.Core||(a.Core={}))}(Ompluscript||(Ompluscript={})),function(a){var b;!function(a){var b;!function(a){"use strict";var b=function(){function a(){this.events={}}return a.prototype.addObserverByType=function(a,b){this.events.hasOwnProperty(b)||(this.events[b]=[]),this.events[b].push(a)},a.prototype.deleteObserverByType=function(a,b){if(this.events.hasOwnProperty(b))for(var c in this.events[b])this.events[b].hasOwnProperty(c)&&this.events[b][c]===a&&this.events[b].splice(c,1)},a.prototype.clearObservers=function(){this.events={}},a.prototype.clearObserversByType=function(a){this.events.hasOwnProperty(a)&&(this.events[a]=[])},a.prototype.dispose=function(){this.clearObservers()},a.prototype.notifyObservers=function(a){if(void 0!==this.events[a.getType()])for(var b in this.events[a.getType()])this.events[a.getType()].hasOwnProperty(b)&&this.events[a.getType()][b].update(a)},a}();a.Observable=b}(b=a.Observer||(a.Observer={}))}(b=a.Core||(a.Core={}))}(Ompluscript||(Ompluscript={})),function(a){var b;!function(b){var c;!function(b){"use strict";var c=a.Core.Observer.Event,d=function(a){function b(b,c){a.call(this,b,c)}return __extends(b,a),b.ON_UPDATE_ATTRIBUTE="onUpdateAttribute",b.ON_INVALID_ATTRIBUTE="onInvalidAttribute",b.ON_UPDATE_CHOICES="onUpdateChoices",b}(c);b.AttributeEvent=d}(c=b.Event||(b.Event={}))}(b=a.Model||(a.Model={}))}(Ompluscript||(Ompluscript={})),function(a){var b;!function(a){var b;!function(a){"use strict";var b=function(b){function c(c,d,e){b.call(this,c,a.AttributeEvent.ON_UPDATE_ATTRIBUTE),this.oldValue=d,this.newValue=e}return __extends(c,b),c.prototype.getOldValue=function(){return this.oldValue},c.prototype.getNewValue=function(){return this.newValue},c}(a.AttributeEvent);a.OnUpdateAttribute=b}(b=a.Event||(a.Event={}))}(b=a.Model||(a.Model={}))}(Ompluscript||(Ompluscript={})),function(a){var b;!function(a){var b;!function(a){"use strict";var b=function(b){function c(c,d,e){b.call(this,c,a.AttributeEvent.ON_INVALID_ATTRIBUTE),this.value=d,this.validationCode=e}return __extends(c,b),c.prototype.getValidationCode=function(){return this.validationCode},c.prototype.getValue=function(){return this.value},c}(a.AttributeEvent);a.OnInvalidAttribute=b}(b=a.Event||(a.Event={}))}(b=a.Model||(a.Model={}))}(Ompluscript||(Ompluscript={})),function(a){var b;!function(b){var c;!function(b){"use strict";var c=a.Core.Observer.Observable,d=a.Model.Event.OnUpdateAttribute,e=a.Model.Event.OnInvalidAttribute,f=function(a){function b(b,c,d,e){void 0===d&&(d=void 0),void 0===e&&(e=!1),a.call(this),this.type=b,this.name=c,this.value=d,this.required=!1,e===!0&&(this.required=!0)}return __extends(b,a),b.prototype.setValue=function(a){var b=this.value;this.value=a,this.fireOnUpdateAttributeEvent(b,this.value),this.validate()||this.fireOnInvalidAttributeEvent(this.value,this.error)},b.prototype.getValue=function(){return this.value},b.prototype.resetValue=function(){this.setValue(void 0)},b.prototype.isRequired=function(){return this.required},b.prototype.getName=function(){return this.name},b.prototype.getError=function(){return this.error},b.prototype.validate=function(){return this.error=void 0,typeof this.value!==this.type&&void 0!==this.value?(this.error=b.ERROR_WRONG_TYPE,!1):this.required===!0&&typeof this.value!==this.type?(this.error=b.ERROR_IS_REQUIRED,!1):!0},b.prototype.getStackTrace=function(){var a={name:this.name,required:this.required,type:this.type,value:this.value};return a},b.prototype.fireOnUpdateAttributeEvent=function(a,b){var c=new d(this,a,b);this.notifyObservers(c)},b.prototype.fireOnInvalidAttributeEvent=function(a,b){var c=new e(this,a,b);this.notifyObservers(c)},b.ERROR_WRONG_TYPE=101,b.ERROR_IS_REQUIRED=102,b.ERROR_BELOW_MINIMUM=201,b.ERROR_OVER_MAXIMUM=202,b.TYPE_BOOLEAN="boolean",b.TYPE_NUMBER="number",b.TYPE_STRING="string",b.TYPE_DATETIME="datetime",b.TYPE_SINGLE_CHOICE="singleChoice",b.TYPE_MULTIPLE_CHOICE="multipleChoice",b.PARAMETER_TYPE="type",b.PARAMETER_NAME="name",b.PARAMETER_REQUIRED="required",b.PARAMETER_VALUE="value",b.PARAMETER_MINIMUM="minimum",b.PARAMETER_MAXIMUM="maximum",b}(c);b.Attribute=f}(c=b.Attribute||(b.Attribute={}))}(b=a.Model||(a.Model={}))}(Ompluscript||(Ompluscript={})),function(a){var b;!function(a){var b;!function(a){"use strict";var b=function(a){function b(b,c,d,e){void 0===c&&(c=void 0),void 0===d&&(d=!1),void 0===e&&(e=!1),a.call(this,"boolean",b,c,d),this.mustBeTrue=!1,e===!0&&(this.mustBeTrue=!0)}return __extends(b,a),b.prototype.isMustBeTrue=function(){return this.mustBeTrue},b.prototype.validate=function(){return a.prototype.validate.call(this)?this.value!==!0&&this.mustBeTrue===!0?(this.error=b.ERROR_MUST_BE_TRUE,!1):!0:!1},b.prototype.getStackTrace=function(){var c=a.prototype.getStackTrace.call(this);return c[b.PARAMETER_MUST_BE_TRUE]=this.mustBeTrue,c},b.PARAMETER_MUST_BE_TRUE="mustBeTrue",b.ERROR_MUST_BE_TRUE=204,b}(a.Attribute);a.Boolean=b}(b=a.Attribute||(a.Attribute={}))}(b=a.Model||(a.Model={}))}(Ompluscript||(Ompluscript={})),function(a){var b;!function(a){var b;!function(a){"use strict";var b=function(b){function c(c,d,e){b.call(this,c,a.AttributeEvent.ON_UPDATE_CHOICES),this.oldChoices=d,this.newChoices=e}return __extends(c,b),c.prototype.getOldChoices=function(){return this.oldChoices},c.prototype.getNewChoices=function(){return this.newChoices},c}(a.AttributeEvent);a.OnUpdateChoices=b}(b=a.Event||(a.Event={}))}(b=a.Model||(a.Model={}))}(Ompluscript||(Ompluscript={})),function(a){var b;!function(b){var c;!function(b){"use strict";var c=a.Model.Event.OnUpdateChoices,d=function(a){function b(b,c,d,e){void 0===c&&(c=void 0),void 0===d&&(d=!1),void 0===e&&(e=[]),a.call(this,"number",b,c,d),this.choices=e}return __extends(b,a),b.prototype.getChoices=function(){return this.choices},b.prototype.setChoices=function(a){var b=this.choices.slice(0);this.choices=a,this.fireOnUpdateChoicesEvent(b,this.choices)},b.prototype.getStackTrace=function(){var c=a.prototype.getStackTrace.call(this);return c[b.PARAMETER_CHOICES]=this.choices,c},b.prototype.fireOnUpdateChoicesEvent=function(a,b){var d=new c(this,a,b);this.notifyObservers(d)},b.PARAMETER_CHOICES="choices",b.ERROR_VALUE_NOT_ALLOWED=203,b}(b.Attribute);b.Choice=d}(c=b.Attribute||(b.Attribute={}))}(b=a.Model||(a.Model={}))}(Ompluscript||(Ompluscript={})),function(a){var b;!function(a){var b;!function(a){"use strict";var b=function(b){function c(a,c,d,e,f){void 0===c&&(c=void 0),void 0===d&&(d=!1),void 0===e&&(e=void 0),void 0===f&&(f=void 0),b.call(this,"string",a,c,d),this.minimum=e,this.maximum=f,void 0!==e&&(this.minimumObject=new Date(e)),void 0!==f&&(this.maximumObject=new Date(f))}return __extends(c,b),c.prototype.getDateObject=function(){return new Date(this.value)},c.prototype.getMinimum=function(){return this.minimum},c.prototype.getMinimumDateObject=function(){return this.minimumObject},c.prototype.getMaximum=function(){return this.maximum},c.prototype.getMaximumDateObject=function(){return this.maximumObject},c.prototype.validate=function(){return b.prototype.validate.call(this)?void 0!==this.value&&isNaN(this.getDateObject().getTime())?(this.error=a.Attribute.ERROR_WRONG_TYPE,!1):void 0!==this.value&&void 0!==this.minimum&&this.getDateObject().getTime()<this.minimumObject.getTime()?(this.error=a.Attribute.ERROR_BELOW_MINIMUM,!1):void 0!==this.value&&void 0!==this.maximum&&this.getDateObject().getTime()>this.maximumObject.getTime()?(this.error=a.Attribute.ERROR_OVER_MAXIMUM,!1):!0:!1},c.prototype.getStackTrace=function(){var c=b.prototype.getStackTrace.call(this);return c[a.Attribute.PARAMETER_MINIMUM]=this.minimum,c.minimumObject=this.minimumObject,c[a.Attribute.PARAMETER_MAXIMUM]=this.maximum,c.maximumObject=this.maximumObject,c},c}(a.Attribute);a.Datetime=b}(b=a.Attribute||(a.Attribute={}))}(b=a.Model||(a.Model={}))}(Ompluscript||(Ompluscript={})),function(a){var b;!function(a){var b;!function(a){"use strict";var b=function(b){function c(a,c,d,e){void 0===c&&(c=void 0),void 0===d&&(d=!1),void 0===e&&(e=[]),b.call(this,a,c,d,e)}return __extends(c,b),c.prototype.setValue=function(a){var b=this.value;Array.isArray(this.value)===!0&&(b=this.value.slice(0)),this.value=a,this.fireOnUpdateAttributeEvent(b,this.value),this.validate()||this.fireOnInvalidAttributeEvent(this.value,this.error)},c.prototype.validate=function(){if(this.error=void 0,Array.isArray(this.value)===!1&&void 0!==this.value)return this.error=a.Attribute.ERROR_WRONG_TYPE,!1;if(this.required===!0&&(Array.isArray(this.value)===!1||0===this.value.length))return this.error=a.Attribute.ERROR_IS_REQUIRED,!1;if(Array.isArray(this.value)===!0)for(var b in this.value)if(-1===this.choices.indexOf(this.value[b]))return this.error=a.Choice.ERROR_VALUE_NOT_ALLOWED,!1;return!0},c}(a.Choice);a.MultipleChoice=b}(b=a.Attribute||(a.Attribute={}))}(b=a.Model||(a.Model={}))}(Ompluscript||(Ompluscript={})),function(a){var b;!function(a){var b;!function(a){"use strict";var b=function(b){function c(a,c,d,e,f,g,h){void 0===c&&(c=void 0),void 0===d&&(d=!1),void 0===e&&(e=void 0),void 0===f&&(f=!1),void 0===g&&(g=void 0),void 0===h&&(h=!1),b.call(this,"number",a,c,d),this.minimum=e,this.maximum=g,this.includeMinimum=!1,f===!0&&(this.includeMinimum=!0),this.includeMaximum=!1,h===!0&&(this.includeMaximum=!0)}return __extends(c,b),c.prototype.getMinimum=function(){return this.minimum},c.prototype.getMaximum=function(){return this.maximum},c.prototype.validate=function(){if(b.prototype.validate.call(this)){if(void 0!==this.value){if(void 0!==this.minimum){if(this.includeMinimum===!1&&this.value<=this.minimum)return this.error=a.Attribute.ERROR_BELOW_MINIMUM,!1;if(this.includeMinimum===!0&&this.value<this.minimum)return this.error=a.Attribute.ERROR_BELOW_MINIMUM,!1}if(void 0!==this.maximum){if(this.includeMaximum===!1&&this.value>=this.maximum)return this.error=a.Attribute.ERROR_OVER_MAXIMUM,!1;if(this.includeMaximum===!0&&this.value>this.maximum)return this.error=a.Attribute.ERROR_OVER_MAXIMUM,!1}}return!0}return!1},c.prototype.getStackTrace=function(){var d=b.prototype.getStackTrace.call(this);return d[a.Attribute.PARAMETER_MINIMUM]=this.minimum,d[c.PARAMETER_INCLUDE_MINIMUM]=this.includeMinimum,d[a.Attribute.PARAMETER_MAXIMUM]=this.maximum,d[c.PARAMETER_INCLUDE_MAXIMUM]=this.includeMaximum,d},c.PARAMETER_INCLUDE_MINIMUM="includeMinimum",c.PARAMETER_INCLUDE_MAXIMUM="includeMaximum",c}(a.Attribute);a.Number=b}(b=a.Attribute||(a.Attribute={}))}(b=a.Model||(a.Model={}))}(Ompluscript||(Ompluscript={})),function(a){var b;!function(a){var b;!function(a){"use strict";var b=function(b){function c(a,c,d,e){void 0===c&&(c=void 0),void 0===d&&(d=!1),void 0===e&&(e=[]),b.call(this,a,c,d,e)}return __extends(c,b),c.prototype.validate=function(){return b.prototype.validate.call(this)?void 0!==this.value&&-1===this.choices.indexOf(this.value)?(this.error=a.Choice.ERROR_VALUE_NOT_ALLOWED,!1):!0:!1},c}(a.Choice);a.SingleChoice=b}(b=a.Attribute||(a.Attribute={}))}(b=a.Model||(a.Model={}))}(Ompluscript||(Ompluscript={})),function(a){var b;!function(a){var b;!function(a){"use strict";var b=function(a){function b(b,c,d,e,f,g){void 0===c&&(c=void 0),void 0===d&&(d=!1),void 0===e&&(e=void 0),void 0===f&&(f=void 0),void 0===g&&(g=void 0),a.call(this,"string",b,c,d),this.minimumLength=e,this.maximumLength=f,this.pattern=g}return __extends(b,a),b.prototype.getMinimumLength=function(){return this.minimumLength},b.prototype.getMaximumLength=function(){return this.maximumLength},b.prototype.getPattern=function(){return this.pattern},b.prototype.validate=function(){return a.prototype.validate.call(this)?void 0!==this.value&&void 0!==this.minimumLength&&this.value.length<this.minimumLength?(this.error=b.ERROR_BELOW_MINIMUM_LENGTH,!1):void 0!==this.value&&void 0!==this.maximumLength&&this.value.length>this.maximumLength?(this.error=b.ERROR_OVER_MAXIMUM_LENGTH,!1):void 0!==this.value&&void 0!==this.pattern&&this.pattern.test(this.value)===!1?(this.error=b.ERROR_PATTERN_NOT_MATCH,!1):!0:!1},b.prototype.getStackTrace=function(){var c=a.prototype.getStackTrace.call(this);return c[b.PARAMETER_MINIMUM_LENGTH]=this.minimumLength,c[b.PARAMETER_MAXIMUM_LENGTH]=this.maximumLength,c[b.PARAMETER_PATTERN]=this.pattern,c},b.ERROR_BELOW_MINIMUM_LENGTH=211,b.ERROR_OVER_MAXIMUM_LENGTH=212,b.ERROR_PATTERN_NOT_MATCH=221,b.PARAMETER_MINIMUM_LENGTH="minimumLength",b.PARAMETER_MAXIMUM_LENGTH="maximumLength",b.PARAMETER_PATTERN="pattern",b}(a.Attribute);a.String=b}(b=a.Attribute||(a.Attribute={}))}(b=a.Model||(a.Model={}))}(Ompluscript||(Ompluscript={})),function(a){var b;!function(b){var c;!function(b){"use strict";var c=a.Core.Observer.Observable,d=function(a){function b(b,c){void 0===c&&(c=[]),a.call(this),this.name=b,this.definition=c}return __extends(b,a),b.prototype.getName=function(){return this.name},b.prototype.getStackTrace=function(){var a={definition:this.definition,name:this.name};return a},b.CONTAINER_MODEL="model",b.CONTAINER_TABLE="table",b}(c);b.Container=d}(c=b.Container||(b.Container={}))}(b=a.Model||(a.Model={}))}(Ompluscript||(Ompluscript={})),function(a){var b;!function(b){var c;!function(b){"use strict";var c=a.Model.Container.Container,d=a.Model.Attribute.Attribute,e=a.Model.Attribute.Boolean,f=a.Model.Attribute.Number,g=a.Model.Attribute.String,h=a.Model.Attribute.Datetime,i=a.Model.Attribute.SingleChoice,j=a.Model.Attribute.MultipleChoice,k=a.Model.Attribute.Choice,l=function(a){function b(b,c){a.call(this,b,c),this.attributes={};for(var d in this.definition)this.definition.hasOwnProperty(d)&&this.addAttribute(this.definition[d])}return __extends(b,a),b.prototype.hasAttribute=function(a){return this.attributes.hasOwnProperty(a)},b.prototype.getAttribute=function(a){return this.attributes[a]},b.prototype.setValue=function(a){for(var b in a)a.hasOwnProperty(b)&&this.hasAttribute(b)&&this.getAttribute(b).setValue(a[b])},b.prototype.validate=function(){var a=!0;for(var b in this.attributes)this.attributes.hasOwnProperty(b)&&(a=a&&this.attributes[b].validate());return a},b.prototype.getStackTrace=function(){var b=a.prototype.getStackTrace.call(this);b.attributes={};for(var c in this.attributes)this.attributes.hasOwnProperty(c)&&(b.attributes[c]=this.attributes[c].getStackTrace());return b},b.prototype.dispose=function(){for(var a in this.attributes)this.attributes.hasOwnProperty(a)&&this.attributes[a].dispose()},b.prototype.addAttribute=function(a){switch(a[d.PARAMETER_TYPE]){case d.TYPE_BOOLEAN:this.addBoolean(a);break;case d.TYPE_NUMBER:this.addNumber(a);break;case d.TYPE_STRING:this.addString(a);break;case d.TYPE_DATETIME:this.addDatetime(a);break;case d.TYPE_SINGLE_CHOICE:this.addSingleChoice(a);break;case d.TYPE_MULTIPLE_CHOICE:this.addMultipleChoice(a)}},b.prototype.addBoolean=function(a){var b=a[d.PARAMETER_NAME],c=a[d.PARAMETER_VALUE],f=a[d.PARAMETER_REQUIRED],g=a[e.PARAMETER_MUST_BE_TRUE];this.attributes[b]=new e(b,c,f,g)},b.prototype.addNumber=function(a){var b=a[d.PARAMETER_NAME],c=a[d.PARAMETER_VALUE],e=a[d.PARAMETER_REQUIRED],g=a[d.PARAMETER_MINIMUM],h=a[f.PARAMETER_INCLUDE_MINIMUM],i=a[d.PARAMETER_MAXIMUM],j=a[f.PARAMETER_INCLUDE_MAXIMUM];this.attributes[b]=new f(b,c,e,g,h,i,j)},b.prototype.addString=function(a){var b=a[d.PARAMETER_NAME],c=a[d.PARAMETER_VALUE],e=a[d.PARAMETER_REQUIRED],f=a[g.PARAMETER_MINIMUM_LENGTH],h=a[g.PARAMETER_MAXIMUM_LENGTH],i=a[g.PARAMETER_PATTERN];this.attributes[b]=new g(b,c,e,f,h,i)},b.prototype.addDatetime=function(a){var b=a[d.PARAMETER_NAME],c=a[d.PARAMETER_VALUE],e=a[d.PARAMETER_REQUIRED],f=a[d.PARAMETER_MINIMUM],g=a[d.PARAMETER_MAXIMUM];this.attributes[b]=new h(b,c,e,f,g)},b.prototype.addSingleChoice=function(a){var b=a[d.PARAMETER_NAME],c=a[d.PARAMETER_VALUE],e=a[d.PARAMETER_REQUIRED],f=a[k.PARAMETER_CHOICES];this.attributes[b]=new i(b,c,e,f)},b.prototype.addMultipleChoice=function(a){var b=a[d.PARAMETER_NAME],c=a[d.PARAMETER_VALUE],e=a[d.PARAMETER_REQUIRED],f=a[k.PARAMETER_CHOICES];this.attributes[b]=new j(b,c,e,f)},b}(c);b.Model=l}(c=b.Container||(b.Container={}))}(b=a.Model||(a.Model={}))}(Ompluscript||(Ompluscript={})),function(a){var b;!function(b){var c;!function(b){"use strict";var c=a.Core.Observer.Event,d=function(a){function b(b,c){a.call(this,b,c)}return __extends(b,a),b.ON_ADD_ROW_TO_TABLE="onAddRowToTable",b.ON_REMOVE_ROW_FROM_TABLE="onRemoveRowFromTable",b.ON_CLEAR_TABLE="onClearTable",b}(c);b.TableEvent=d}(c=b.Event||(b.Event={}))}(b=a.Model||(a.Model={}))}(Ompluscript||(Ompluscript={})),function(a){var b;!function(a){var b;!function(a){"use strict";var b=function(b){function c(c,d,e){b.call(this,c,a.TableEvent.ON_ADD_ROW_TO_TABLE),this.index=d,this.model=e}return __extends(c,b),c.prototype.getModel=function(){return this.model},c.prototype.getIndex=function(){return this.index},c}(a.TableEvent);a.OnAddRowToTable=b}(b=a.Event||(a.Event={}))}(b=a.Model||(a.Model={}))}(Ompluscript||(Ompluscript={})),function(a){var b;!function(a){var b;!function(a){"use strict";var b=function(b){function c(c,d){b.call(this,c,a.TableEvent.ON_REMOVE_ROW_FROM_TABLE),this.index=d}return __extends(c,b),c.prototype.getIndex=function(){return this.index},c}(a.TableEvent);a.OnRemoveRowFromTable=b}(b=a.Event||(a.Event={}))}(b=a.Model||(a.Model={}))}(Ompluscript||(Ompluscript={})),function(a){var b;!function(a){var b;!function(a){"use strict";var b=function(b){function c(c){b.call(this,c,a.TableEvent.ON_CLEAR_TABLE)}return __extends(c,b),c}(a.TableEvent);a.OnClearTable=b}(b=a.Event||(a.Event={}))}(b=a.Model||(a.Model={}))}(Ompluscript||(Ompluscript={})),function(a){var b;!function(b){var c;!function(b){"use strict";var c=a.Model.Container.Model,d=a.Model.Container.Container,e=a.Model.Event.OnAddRowToTable,f=a.Model.Event.OnRemoveRowFromTable,g=a.Model.Event.OnClearTable,h=function(a){function b(b,c){a.call(this,b,c),this.rows=[]}return __extends(b,a),b.prototype.count=function(){return this.rows.length},b.prototype.each=function(a){for(var b=0;b<this.rows.length;b++)a(b,this.rows[b])},b.prototype.hasRowOnIndex=function(a){return void 0!==this.rows[a]},b.prototype.getRowByIndex=function(a){return this.rows[a]},b.prototype.addRow=function(a){var b=new c(this.name,this.definition);this.rows.push(b),this.fireOnAddRowToTableEvent(this.rows.length-1,b),b.setValue(a)},b.prototype.clearRows=function(){this.dispose(),this.rows=[],this.fireOnClearTableEvent()},b.prototype.removeRowByIndex=function(a){this.rows.splice(a,1),this.fireOnRemoveRowFromTableEvent(a)},b.prototype.getStackTrace=function(){var b=a.prototype.getStackTrace.call(this);b.rows=[];for(var c in this.rows)void 0!==this.rows[c]&&b.rows.push(this.rows[c].getStackTrace());return b},b.prototype.validate=function(){var a=!0;for(var b in this.rows)this.rows.hasOwnProperty(b)&&(a=a&&this.rows[b].validate());return a},b.prototype.dispose=function(){for(var a in this.rows)void 0!==this.rows[a]&&this.rows[a].dispose();this.clearObservers()},b.prototype.fireOnAddRowToTableEvent=function(a,b){var c=new e(this,a,b);this.notifyObservers(c)},b.prototype.fireOnRemoveRowFromTableEvent=function(a){var b=new f(this,a);this.notifyObservers(b)},b.prototype.fireOnClearTableEvent=function(){var a=new g(this);this.notifyObservers(a)},b}(d);b.Table=h}(c=b.Container||(b.Container={}))}(b=a.Model||(a.Model={}))}(Ompluscript||(Ompluscript={})),function(a){var b;!function(b){"use strict";function c(a,b,c){void 0===c&&(c=[]),m.getInstance().define(a,b,c)}function d(a){return m.getInstance().create(a)}var e=a.Model.Attribute.Attribute,f=a.Model.Attribute.Number,g=a.Model.Attribute.String,h=a.Model.Container.Container,i=a.Model.Container.Model,j=a.Model.Container.Table,k=a.Model.Attribute.Choice,l=a.Model.Attribute.Boolean,m=function(){function a(){this.definition={},this.errors=[]}return a.getInstance=function(){return a.instance},a.prototype.hasErrors=function(){return this.errors.length>0},a.prototype.getErrors=function(){return this.errors},a.prototype.reset=function(){this.definition=[],this.errors=[]},a.prototype.define=function(a,b,c){void 0===c&&(c=[]);var d=[];for(var e in c)if(c.hasOwnProperty(e))try{d.push.apply(d,this.checkConfiguration(c[e]))}catch(f){d.push(JSON.parse(f.message))}d.length?this.errors.push({definition:c,errors:d,name:a,type:b}):this.definition[a]={definition:c,name:a,type:b}},a.prototype.create=function(a){if(this.definition.hasOwnProperty(a)&&this.definition[a].hasOwnProperty("type")){if(this.definition[a].type===h.CONTAINER_MODEL)return new i(a,this.definition[a].definition);if(this.definition[a].type===h.CONTAINER_TABLE)return new j(a,this.definition[a].definition)}return void 0},a.prototype.checkConfiguration=function(b){var c=[],d=b[e.PARAMETER_TYPE],h=b[e.PARAMETER_NAME],i=b[e.PARAMETER_REQUIRED],j=b[l.PARAMETER_MUST_BE_TRUE],m=b[e.PARAMETER_MINIMUM],n=b[f.PARAMETER_INCLUDE_MINIMUM],o=b[e.PARAMETER_MAXIMUM],p=b[f.PARAMETER_INCLUDE_MAXIMUM],q=b[g.PARAMETER_MINIMUM_LENGTH],r=b[g.PARAMETER_MAXIMUM_LENGTH],s=b[g.PARAMETER_PATTERN],t=b[e.PARAMETER_MINIMUM],u=b[e.PARAMETER_MAXIMUM],v=b[k.PARAMETER_CHOICES];switch(d){case e.TYPE_BOOLEAN:c=this.checkBooleanConfiguration(h,i,j);break;case e.TYPE_NUMBER:c=this.checkNumberConfiguration(h,i,m,n,o,p);break;case e.TYPE_STRING:c=this.checkStringConfiguration(h,i,q,r,s);break;case e.TYPE_DATETIME:c=this.checkDatetimeConfiguration(h,i,t,u);break;case e.TYPE_SINGLE_CHOICE:case e.TYPE_MULTIPLE_CHOICE:c=this.checkChoiceConfiguration(h,i,v);break;default:c.push(e.PARAMETER_TYPE+a.HAS_WRONG_VALUE)}return c},a.prototype.checkAttributeConfiguration=function(b,c){var d=[];return"string"!=typeof b&&d.push(e.PARAMETER_NAME+a.MUST_BE_STRING),void 0!==c&&"boolean"!=typeof c&&d.push(e.PARAMETER_REQUIRED+a.MUST_BE_BOOLEAN_OR_UNDEFINED),d},a.prototype.checkBooleanConfiguration=function(b,c,d){var e=this.checkAttributeConfiguration(b,c);return void 0!==d&&"boolean"!=typeof d&&e.push(l.PARAMETER_MUST_BE_TRUE+a.MUST_BE_BOOLEAN_OR_UNDEFINED),e},a.prototype.checkNumberConfiguration=function(b,c,d,g,h,i){var j=this.checkAttributeConfiguration(b,c);return void 0!==d&&"number"!=typeof d&&j.push(e.PARAMETER_MINIMUM+a.MUST_BE_NUMBER_OR_UNDEFINED),void 0!==h&&"number"!=typeof h&&j.push(e.PARAMETER_MAXIMUM+a.MUST_BE_NUMBER_OR_UNDEFINED),void 0!==g&&"boolean"!=typeof g&&j.push(f.PARAMETER_INCLUDE_MINIMUM+a.MUST_BE_BOOLEAN_OR_UNDEFINED),void 0!==i&&"boolean"!=typeof i&&j.push(f.PARAMETER_INCLUDE_MAXIMUM+a.MUST_BE_BOOLEAN_OR_UNDEFINED),"number"==typeof d&&"number"==typeof h&&(g===!0&&i===!0&&d>h?j.push(e.PARAMETER_MAXIMUM+a.MUST_BE_GREATER+e.PARAMETER_MINIMUM):(g!==!0||i!==!0)&&d>=h&&j.push(e.PARAMETER_MAXIMUM+a.MUST_BE_GREATER+e.PARAMETER_MINIMUM)),j},a.prototype.checkStringConfiguration=function(b,c,d,e,f){var h=this.checkAttributeConfiguration(b,c);return void 0!==d&&"number"!=typeof d&&h.push(g.PARAMETER_MINIMUM_LENGTH+a.MUST_BE_NUMBER_OR_UNDEFINED),void 0!==e&&"number"!=typeof e&&h.push(g.PARAMETER_MAXIMUM_LENGTH+a.MUST_BE_NUMBER_OR_UNDEFINED),"number"==typeof e&&"number"==typeof d&&d>e&&h.push(g.PARAMETER_MAXIMUM_LENGTH+a.MUST_BE_GREATER+g.PARAMETER_MINIMUM_LENGTH),void 0===f||f instanceof RegExp||h.push(g.PARAMETER_PATTERN+a.MUST_BE_REGEX_OR_UNDEFINED),h},a.prototype.checkDatetimeConfiguration=function(b,c,d,f){var g=this.checkAttributeConfiguration(b,c),h=void 0,i=void 0;return void 0!==d&&"string"!=typeof d||"string"==typeof d&&isNaN(new Date(d).getTime())?g.push(e.PARAMETER_MINIMUM+a.MUST_BE_DATETIME_OR_UNDEFINED):h=new Date(d),void 0!==f&&"string"!=typeof f||"string"==typeof f&&isNaN(new Date(f).getTime())?g.push(e.PARAMETER_MAXIMUM+a.MUST_BE_DATETIME_OR_UNDEFINED):i=new Date(f),void 0!==h&&void 0!==i&&h>=i&&g.push(e.PARAMETER_MAXIMUM+a.MUST_BE_GREATER+e.PARAMETER_MINIMUM),g},a.prototype.checkChoiceConfiguration=function(b,c,d){var e=this.checkAttributeConfiguration(b,c);return void 0===d||Array.isArray(d)||e.push(k.PARAMETER_CHOICES+a.MUST_BE_ARRAY_OR_UNDEFINED),e},a.HAS_WRONG_VALUE=" has wrong value.",a.MUST_BE_STRING=" must be a string.",a.MUST_BE_BOOLEAN_OR_UNDEFINED=" must be a boolean or undefined.",a.MUST_BE_NUMBER_OR_UNDEFINED=" must be a number or undefined.",a.MUST_BE_REGEX_OR_UNDEFINED=" must be a regex object or undefined.",a.MUST_BE_DATETIME_OR_UNDEFINED=" must be in datetime format or undefined.",a.MUST_BE_ARRAY_OR_UNDEFINED=" must be an array object or undefined.",a.MUST_BE_GREATER=" must be greater than ",a.instance=new a,a}();b.Creator=m,b.define=c,b.create=d}(b=a.Model||(a.Model={}))}(Ompluscript||(Ompluscript={})),function(a){var b;!function(b){var c;!function(b){"use strict";var c=a.Core.Observer.Observable,d=function(a){function b(b){a.call(this),this.name=b,this.htmlElement=void 0,this.initializeHtmlElement()}return __extends(b,a),b.prototype.hasClass=function(a){var b=this.extractClasses();return b.indexOf(a)>-1},b.prototype.addClass=function(a){if(!this.hasClass(a)){var c=this.extractClasses();c.push(a);var d=c.join(" ").trim();this.setAttribute(b.ATTRIBUTE_CLASS,d)}},b.prototype.removeClass=function(a){if(this.hasClass(a)){var c=this.extractClasses(),d=c.indexOf(a);c.splice(d,1);var e=c.join(" ").trim();this.setAttribute(b.ATTRIBUTE_CLASS,e)}},b.prototype.toggleClass=function(a){this.hasClass(a)?this.removeClass(a):this.addClass(a)},b.prototype.setId=function(a){this.setAttribute(b.ATTRIBUTE_ID,a)},b.prototype.getId=function(){return this.getAttribute(b.ATTRIBUTE_ID)},b.prototype.setAttribute=function(a,b){this.htmlElement.setAttribute(a,b)},b.prototype.getAttribute=function(a){return this.htmlElement.getAttribute(a)},b.prototype.getName=function(){return this.name},b.prototype.getStackTrace=function(){var a={html:this.htmlElement.outerHTML.replace(this.htmlElement.innerHTML,""),name:this.name};return a},b.prototype.dispose=function(){if(this.htmlElement instanceof HTMLElement){var a=this.htmlElement.parentElement;a instanceof HTMLElement&&a.removeChild(this.htmlElement)}},b.prototype.extractClasses=function(){var a,c=this.getAttribute(b.ATTRIBUTE_CLASS);return a="string"==typeof c?this.getAttribute(b.ATTRIBUTE_CLASS).split(" "):[],a===[""]&&(a=[]),a},b.ATTRIBUTE_ID="id",b.ATTRIBUTE_CLASS="class",b}(c);b.Component=d}(c=b.Component||(b.Component={}))}(b=a.View||(a.View={}))}(Ompluscript||(Ompluscript={})),function(a){var b;!function(a){var b;!function(a){"use strict";var b=function(a){function b(b){a.call(this,b)}return __extends(b,a),b.prototype.addChild=function(a){this.children.push(a)},b.prototype.removeChild=function(a){var b=this.children.indexOf(a);b>-1&&this.children.splice(b,1)},b.prototype.clearChildren=function(){this.children=[]},b.prototype.render=function(){this.clear();for(var a=0;a<this.children.length;a++)void 0!==this.children[a]&&this.appendChild(this.children[a]);return this.htmlElement},b}(a.Component);a.Layout=b}(b=a.Component||(a.Component={}))}(b=a.View||(a.View={}))}(Ompluscript||(Ompluscript={})),function(a){var b;!function(a){var b;!function(a){"use strict";var b=function(a){function b(b,c){a.call(this,b),this.layout=c}return __extends(b,a),b.prototype.addChild=function(b){a.prototype.addChild.call(this,b),this.layout.addChild(b)},b.prototype.removeChild=function(b){a.prototype.removeChild.call(this,b),this.layout.removeChild(b)},b.prototype.clearChildren=function(){a.prototype.clearChildren.call(this),this.layout.clearChildren()},b.prototype.render=function(){return this.clear(),this.appendChild(this.layout),this.htmlElement},b.prototype.clear=function(){for(;this.htmlElement.firstChild;)this.htmlElement.removeChild(this.htmlElement.firstChild)},b.prototype.appendChild=function(a){this.htmlElement.appendChild(a.render())},b}(a.Layout);a.Container=b}(b=a.Component||(a.Component={}))}(b=a.View||(a.View={}))}(Ompluscript||(Ompluscript={})),function(a){var b;!function(a){var b;!function(a){"use strict";var b=function(a){function b(b){a.call(this,b)}return __extends(b,a),b.prototype.render=function(){return this.htmlElement},b}(a.Component);a.Field=b}(b=a.Component||(a.Component={}))}(b=a.View||(a.View={}))}(Ompluscript||(Ompluscript={})),function(a){var b;!function(b){var c;!function(b){"use strict";var c=a.Core.Observer.Event,d=function(a){function b(c,d){a.call(this,c,b.ON_UPDATE_INPUT),this.value=d}return __extends(b,a),b.prototype.getValue=function(){return this.value},b.ON_UPDATE_INPUT="onUpdateInput",b}(c);b.OnUpdateInput=d}(c=b.Event||(b.Event={}))}(b=a.View||(a.View={}))}(Ompluscript||(Ompluscript={})),function(a){var b;!function(b){var c;!function(b){"use strict";var c=a.View.Component.Field,d=a.Model.Event.AttributeEvent,e=a.Model.Event.OnUpdateAttribute,f=a.View.Event.OnUpdateInput,g=function(a){function b(c,d,e){void 0===d&&(d=void 0),void 0===e&&(e=b.INPUT_TEXT),a.call(this,c),this.setAttribute(b.ATTRIBUTE_TYPE,e),this.setAttribute(b.ATTRIBUTE_NAME,this.name),this.addClass(b.FIELD_INPUT),this.attribute=void 0,this.setBinding(d),this.addObserverByType(this,f.ON_UPDATE_INPUT)}return __extends(b,a),b.prototype.update=function(a){if(a instanceof e){var b=a;this.updateValue(b.getNewValue())}else if(a instanceof f&&this.isBound()){var c=a;this.attribute.setValue(c.getValue())}},b.prototype.setBinding=function(a){this.removeBinding(),this.attribute=a,this.isBound()&&this.attribute.addObserverByType(this,d.ON_UPDATE_ATTRIBUTE)},b.prototype.isBound=function(){return void 0!==this.attribute},b.prototype.removeBinding=function(){this.isBound()&&(this.attribute.deleteObserverByType(this,d.ON_UPDATE_ATTRIBUTE),this.attribute=void 0)},b.prototype.setValue=function(a){this.updateValue(a),this.isBound()&&this.attribute.setValue(a)},b.prototype.initializeHtmlElement=function(){this.htmlElement=document.createElement(b.FIELD_INPUT),this.addOnUpdateInputEvent()},b.prototype.fireOnUpdateInputEvent=function(a){var b=new f(this,a);this.notifyObservers(b)},b.prototype.getStackTrace=function(){var b=a.prototype.getStackTrace.call(this);return this.isBound()?b.attribute=this.attribute.getStackTrace():b.attribute=void 0,b},b.FIELD_INPUT="input",b.ATTRIBUTE_TYPE="type",b.ATTRIBUTE_VALUE="value",b.ATTRIBUTE_NAME="name",b.INPUT_TEXT="text",b.INPUT_PASSWORD="password",b.INPUT_EMAIL="email",b.INPUT_CHECK_BOX="checkbox",b}(c);b.Input=g}(c=b.Field||(b.Field={}))}(b=a.View||(a.View={}))}(Ompluscript||(Ompluscript={})),function(a){var b;!function(a){var b;!function(a){"use strict";var b=function(b){function c(c,d,e){void 0===d&&(d=void 0),void 0===e&&(e=a.Input.INPUT_CHECK_BOX),b.call(this,c,d,e)}return __extends(c,b),c.prototype.getValue=function(){return this.htmlElement.checked},c.prototype.addOnUpdateInputEvent=function(){var a=this,b=function(){a.fireOnUpdateInputEvent(a.getValue())};a.htmlElement.addEventListener(c.EVENT_CHANGE,b,!1)},c.prototype.updateValue=function(a){this.htmlElement.checked=a},c.EVENT_CHANGE="change",c}(a.Input);a.CheckBoxInput=b}(b=a.Field||(a.Field={}))}(b=a.View||(a.View={}))}(Ompluscript||(Ompluscript={})),function(a){var b;!function(a){var b;!function(a){"use strict";var b=function(b){function c(c,d,e){void 0===d&&(d=void 0),void 0===e&&(e=a.Input.INPUT_TEXT),b.call(this,c,d,e)}return __extends(c,b),c.prototype.getValue=function(){var b=this.getAttribute(a.Input.ATTRIBUTE_VALUE);return"string"==typeof b?b:void 0},c.prototype.addOnUpdateInputEvent=function(){var a=this,b=function(){a.fireOnUpdateInputEvent(a.getValue())};a.htmlElement.addEventListener(c.EVENT_KEY_PRESS,b,!1)},c.prototype.updateValue=function(b){
this.setAttribute(a.Input.ATTRIBUTE_VALUE,b)},c.EVENT_KEY_PRESS="keypress",c}(a.Input);a.TextInput=b}(b=a.Field||(a.Field={}))}(b=a.View||(a.View={}))}(Ompluscript||(Ompluscript={})),function(a){var b;!function(a){var b;!function(a){"use strict";var b=function(b){function c(c,d){void 0===d&&(d=void 0),b.call(this,c,d,a.Input.INPUT_EMAIL)}return __extends(c,b),c}(a.TextInput);a.EmailInput=b}(b=a.Field||(a.Field={}))}(b=a.View||(a.View={}))}(Ompluscript||(Ompluscript={})),function(a){var b;!function(a){var b;!function(a){"use strict";var b=function(b){function c(c,d,e){void 0===d&&(d=void 0),void 0===e&&(e=a.Input.INPUT_TEXT),b.call(this,c,d,e)}return __extends(c,b),c.prototype.getValue=function(){var b=this.getAttribute(a.Input.ATTRIBUTE_VALUE);return"string"==typeof b?isNaN(parseInt(b,10))?b:parseInt(b,10):void 0},c.prototype.addOnUpdateInputEvent=function(){var b=this,c=function(){b.fireOnUpdateInputEvent(b.getValue())};b.htmlElement.addEventListener(a.TextInput.EVENT_KEY_PRESS,c,!1)},c.prototype.updateValue=function(b){this.setAttribute(a.Input.ATTRIBUTE_VALUE,b.toString())},c.EVENT_KEY_PRESS="keypress",c}(a.Input);a.NumberInput=b}(b=a.Field||(a.Field={}))}(b=a.View||(a.View={}))}(Ompluscript||(Ompluscript={})),function(a){var b;!function(a){var b;!function(a){"use strict";var b=function(b){function c(c,d){void 0===d&&(d=void 0),b.call(this,c,d,a.Input.INPUT_PASSWORD)}return __extends(c,b),c}(a.TextInput);a.PasswordInput=b}(b=a.Field||(a.Field={}))}(b=a.View||(a.View={}))}(Ompluscript||(Ompluscript={}));